---
import ProjectCards from "./ProjectCards.astro";
import ExperienceCards from "./ExperienceCards.astro";
import CardBlog from "./CardBlog.astro";
---

<div id="twitter-feed" class="twitter-feed">
  <!-- Projects Tab -->
  <section id="projects-feed" class="feed-section active">
    <ProjectCards />
  </section>

  <!-- Experience Tab -->
  <section id="experience-feed" class="feed-section">
    <ExperienceCards />
  </section>

  <!-- Blogs Tab -->
  <section id="blogs-feed" class="feed-section">
    <CardBlog />
  </section>
</div>

<script is:inline>
  if (typeof window !== "undefined") {
    const projectsFeed = document.getElementById("projects-feed");
    const experienceFeed = document.getElementById("experience-feed");
    const blogsFeed = document.getElementById("blogs-feed");

    const showTab = (tabName) => {
      // Hide all feeds
      projectsFeed?.classList.remove("active");
      experienceFeed?.classList.remove("active");
      blogsFeed?.classList.remove("active");

      // Show selected feed
      if (tabName === "projects") {
        projectsFeed?.classList.add("active");
      } else if (tabName === "experience") {
        experienceFeed?.classList.add("active");
      } else if (tabName === "blogs") {
        blogsFeed?.classList.add("active");
      }
    };

    // Listen for tab changes
    window.addEventListener("tab-change", (e) => {
      showTab(e.detail);
    });

    // Initialize with projects tab
    document.addEventListener("DOMContentLoaded", () => {
      showTab("projects");
    });
  }
</script>
